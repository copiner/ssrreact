(()=>{"use strict";var e={860:e=>{e.exports=require("express")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{require("core-js/modules/web.dom-collections.iterator.js");const e=require("@babel/runtime-corejs3/core-js-stable/instance/for-each");var t=r.n(e);const n=require("@babel/runtime-corejs3/core-js-stable/promise");var s=r.n(n);const o=require("@babel/runtime-corejs3/core-js-stable/instance/concat");var i=r.n(o);const c=require("@babel/runtime-corejs3/core-js-stable/json/stringify");var l=r.n(c);const a=require("react");var d=r.n(a);const u=require("react-dom/server"),p=require("react-router"),h=(require("@babel/runtime-corejs3/helpers/defineProperty"),require("react/jsx-runtime")),j=require("@babel/runtime-corejs3/core-js-stable/instance/map");var x=r.n(j);const m=require("react-redux"),b=require("@babel/runtime-corejs3/core-js-stable/set-timeout");var v=r.n(b);const q=require("mockjs");var g=r.n(q);const y="INDEX/GET_LIST",f=e=>(e,t)=>(e=>{const t=g().mock({"list|5":[{id:"@id()",name:"@name()"}]});return new(s())(((e,r)=>{v()((()=>{e(t)}),g().Random.integer(3e3,5e3))}))})().then((t=>{var r;e((r=t.list,{type:y,list:r}))})).catch((e=>{console.log(e)})),k=e=>{var t;let[r,n]=(0,a.useState)(1);return console.log("props",e.list),console.log("count",r),(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:()=>n(r+1),children:"+"}),(0,h.jsxs)("span",{children:["计数 ",r]}),(0,h.jsx)("button",{onClick:()=>n(r-1),children:"-"}),(0,h.jsx)("ul",{children:x()(t=e.list).call(t,(e=>(0,h.jsx)("li",{children:e.name},e.id)))})]})};k.load=e=>e.dispatch(f());const w=(0,m.connect)((e=>({list:e.index.list})),{getIndexList:f})(k),S=require("react-router-config"),C=require("react-router-dom");class L extends d().Component{render(){return(0,h.jsxs)("div",{className:"yLe0fBhYv96Ujg42805z",children:[(0,h.jsx)(C.Link,{to:"/apple",children:"苹果"}),(0,h.jsx)(C.Link,{to:"/login",children:"登录"}),(0,h.jsx)(C.Link,{to:"/",children:"列表"})]})}}const R=L,D=[{path:"/",component:e=>(0,h.jsxs)("div",{children:[(0,h.jsx)(R,{staticContext:e.staticContext}),(0,S.renderRoutes)(e.route.routes)]}),routes:[{path:"/",component:w,loadData:w.load,exact:!0,key:"home"},{path:"/login",component:()=>(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"登录"}),(0,h.jsx)("input",{type:"text",placeholder:"用户名"})]}),exact:!0,key:"login"}]},{path:"/apple",component:()=>(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"苹果"}),(0,h.jsx)("input",{type:"text",placeholder:"水果"})]}),name:"apple",exact:!0}],P=require("redux"),O=require("redux-thunk");var T=r.n(O);const _={list:[]},E=(0,P.combineReducers)({index:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return t.type===y?{...e,list:t.list}:e}}),I=(0,P.createStore)(E,(0,P.applyMiddleware)(T())),M=r(860),N=M();N.use(M.static("public")),N.use((async(e,r,n)=>{var o,c;const{path:a,url:d}=e;let j=(0,S.matchRoutes)(D,a),x=[];t()(j).call(j,(e=>{if(e.route.loadData){let t=new(s())(((t,r)=>{e.route.loadData(I).then(t,r).catch(r)}));x.push(t)}})),await s().all(x);let b={css:[]},v=(0,u.renderToString)((0,h.jsx)(m.Provider,{store:I,children:(0,h.jsx)(p.StaticRouter,{location:d,context:b,children:(0,h.jsx)(p.Switch,{children:(0,S.renderRoutes)(D)})})}));const q=b.css.length?b.css.join("\n"):"";return r.send(i()(o=i()(c="<!DOCTYPE html>\n      <html>\n        <head>\n          <title>kkbsssr</title>\n          <style>".concat(q,'</style>\n        </head>\n        <body>\n          <div id="root">')).call(c,v,"</div>\n          <script>window._context=")).call(o,l()(I.getState()),'<\/script>\n          <script src="/main.js"><\/script>\n        </body>\n      </html>\n    ')),n()})),N.listen(9999,(()=>console.log("node listen 9999")))})()})();