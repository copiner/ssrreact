(()=>{"use strict";var e={860:e=>{e.exports=require("express")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{require("core-js/modules/web.dom-collections.iterator.js");const e=require("@babel/runtime-corejs3/core-js-stable/instance/for-each");var t=r.n(e);const n=require("@babel/runtime-corejs3/core-js-stable/promise");var s=r.n(n);const o=require("@babel/runtime-corejs3/core-js-stable/json/stringify");var i=r.n(o);const c=require("react");var l=r.n(c);const a=require("react-dom/server"),d=require("react-router"),u=(require("@babel/runtime-corejs3/helpers/defineProperty"),require("react/jsx-runtime")),h=require("@babel/runtime-corejs3/core-js-stable/instance/map");var p=r.n(h);const j=require("react-redux"),x=require("@babel/runtime-corejs3/core-js-stable/set-timeout");var m=r.n(x);const v=require("mockjs");var b=r.n(v);const y="INDEX/GET_LIST",g=e=>(e,t)=>(e=>{const t=b().mock({"list|5":[{id:"@id()",name:"@name()"}]});return new(s())(((e,r)=>{m()((()=>{e(t)}),b().Random.integer(3e3,5e3))}))})().then((t=>{var r;e((r=t.list,{type:y,list:r}))})).catch((e=>{console.log(e)})),q=e=>{var t;let[r,n]=(0,c.useState)(1);return console.log("props",e.list),console.log("count",r),(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{onClick:()=>n(r+1),children:"+"}),(0,u.jsxs)("span",{children:["计数 ",r]}),(0,u.jsx)("button",{onClick:()=>n(r-1),children:"-"}),(0,u.jsx)("ul",{children:p()(t=e.list).call(t,(e=>(0,u.jsx)("li",{children:e.name},e.id)))})]})};q.load=e=>e.dispatch(g());const f=(0,j.connect)((e=>({list:e.index.list})),{getIndexList:g})(q),k=require("react-router-config"),w=require("react-router-dom");class S extends l().Component{render(){return(0,u.jsxs)("div",{className:"yLe0fBhYv96Ujg42805z",children:[(0,u.jsx)(w.Link,{to:"/apple",children:"苹果"}),(0,u.jsx)(w.Link,{to:"/login",children:"登录"}),(0,u.jsx)(w.Link,{to:"/",children:"列表"})]})}}const D=S,C=[{path:"/",component:e=>(0,u.jsxs)("div",{children:[(0,u.jsx)(D,{staticContext:e.staticContext}),(0,k.renderRoutes)(e.route.routes)]}),routes:[{path:"/",component:f,loadData:f.load,exact:!0,key:"home"},{path:"/login",component:()=>(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"登录"}),(0,u.jsx)("input",{type:"text",placeholder:"用户名"})]}),exact:!0,key:"login"}]},{path:"/apple",component:()=>(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"苹果"}),(0,u.jsx)("input",{type:"text",placeholder:"水果"})]}),name:"apple",exact:!0}],L=require("redux"),R=require("redux-thunk");var P=r.n(R);const T={list:[]},O=(0,L.combineReducers)({index:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return t.type===y?{...e,list:t.list}:e}}),_=require("@babel/runtime-corejs3/core-js-stable/instance/concat");var E=r.n(_);const I=(0,L.createStore)(O,(0,L.applyMiddleware)(P())),M=r(860),N=M();N.use(M.static("./dist/client")),N.use((async(e,r,n)=>{const{path:o,url:c}=e;let l=(0,k.matchRoutes)(C,o),h=[];t()(l).call(l,(e=>{if(e.route.loadData){let t=new(s())(((t,r)=>{e.route.loadData(I).then(t,r).catch(r)}));h.push(t)}})),await s().all(h);let x={css:[]};const m=(e=>{var t,r,n,s;let{reactStr:o,initialData:i,styles:c}=e,l=[],a=[];return l=["main.js"],a=["main.css"],E()(t=E()(r=E()(n=E()(s='<!DOCTYPE html>\n  <html lang="en">\n  <head>\n      <meta charset="UTF-8"/>\n      <title></title>\n      <style>'.concat(c,"</style>\n      ")).call(s,p()(a).call(a,(e=>'<link rel="stylesheet" href="'.concat(e,'"></link>'))).join(""),'\n  </head>\n  <body>\n      <div id="root">')).call(n,o,"</div>\n      <script>window._context=")).call(r,i,"<\/script>\n  </body>\n  ")).call(t,p()(l).call(l,(e=>'<script type="text/javascript" src="'.concat(e,'"><\/script>'))).join(""),"\n  </html>")})({reactStr:(0,a.renderToString)((0,u.jsx)(j.Provider,{store:I,children:(0,u.jsx)(d.StaticRouter,{location:c,context:x,children:(0,u.jsx)(d.Switch,{children:(0,k.renderRoutes)(C)})})})),initialData:i()(I.getState()),styles:x.css.length?x.css.join("\n"):""});return r.send(m),n()})),N.listen(9999,(()=>console.log("node listen 9999")))})()})();