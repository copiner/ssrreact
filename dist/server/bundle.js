(()=>{"use strict";var e={860:e=>{e.exports=require("express")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{require("core-js/modules/web.dom-collections.iterator.js");const e=require("@babel/runtime-corejs3/core-js-stable/instance/for-each");var t=r.n(e);const n=require("@babel/runtime-corejs3/core-js-stable/promise");var s=r.n(n);const i=require("@babel/runtime-corejs3/core-js-stable/json/stringify");var o=r.n(i);const c=require("react");var a=r.n(c);const l=require("react-dom/server"),d=require("react-router"),u=(require("@babel/runtime-corejs3/helpers/defineProperty"),require("react/jsx-runtime")),h=require("@babel/runtime-corejs3/core-js-stable/instance/map");var p=r.n(h);const j=require("react-redux"),x=require("@babel/runtime-corejs3/core-js-stable/set-timeout");var m=r.n(x);const v=require("mockjs");var b=r.n(v);const y="INDEX/GET_LIST",q=e=>(e,t)=>(e=>{const t=b().mock({"list|5":[{id:"@id()",name:"@name()"}]});return new(s())(((e,r)=>{m()((()=>{e(t)}),b().Random.integer(3e3,5e3))}))})().then((t=>{var r;e((r=t.list,{type:y,list:r}))})).catch((e=>{console.log(e)})),g=e=>{var t;let[r,n]=(0,c.useState)(1);return console.log("props",e.list),console.log("count",r),(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{onClick:()=>n(r+1),children:"+"}),(0,u.jsxs)("span",{children:["计数 ",r]}),(0,u.jsx)("button",{onClick:()=>n(r-1),children:"-"}),(0,u.jsx)("ul",{children:p()(t=e.list).call(t,(e=>(0,u.jsx)("li",{children:e.name},e.id)))})]})};g.load=e=>e.dispatch(q());const f=(0,j.connect)((e=>({list:e.index.list})),{getIndexList:q})(g),k=require("@mui/material/Button");var w=r.n(k);const S=require("react-router-config"),D=require("react-router-dom");class C extends a().Component{render(){return(0,u.jsxs)("div",{className:"yLe0fBhYv96Ujg42805z",children:[(0,u.jsx)(D.Link,{to:"/apple",children:"苹果"}),(0,u.jsx)(D.Link,{to:"/login",children:"登录"}),(0,u.jsx)(D.Link,{to:"/",children:"列表"})]})}}const L=C,R=[{path:"/",component:e=>(0,u.jsxs)("div",{children:[(0,u.jsx)(L,{staticContext:e.staticContext}),(0,S.renderRoutes)(e.route.routes)]}),routes:[{path:"/",component:f,loadData:f.load,exact:!0,key:"home"},{path:"/login",component:()=>(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"登录"}),(0,u.jsx)("input",{type:"text",placeholder:"用户名"})]}),exact:!0,key:"login"},{path:"/apple",component:()=>(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"苹果"}),(0,u.jsx)(w(),{variant:"contained",children:"你好，世界"})]}),name:"apple",exact:!0}]}],P=require("redux"),T=require("redux-thunk");var O=r.n(T);const _={list:[]},E=(0,P.combineReducers)({index:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return t.type===y?{...e,list:t.list}:e}}),I=require("@babel/runtime-corejs3/core-js-stable/instance/concat");var B=r.n(I);const M=(0,P.createStore)(E,(0,P.applyMiddleware)(O())),N=r(860),U=N();U.use(N.static("./dist/client")),U.use((async(e,r,n)=>{const{path:i,url:c}=e;let a=(0,S.matchRoutes)(R,i),h=[];t()(a).call(a,(e=>{if(e.route.loadData){let t=new(s())(((t,r)=>{e.route.loadData(M).then(t,r).catch(r)}));h.push(t)}})),await s().all(h);let x={css:[]};const m=(e=>{var t,r,n,s;let{reactStr:i,initialData:o,styles:c}=e,a=[],l=[];return a=["main.js"],l=["main.css"],B()(t=B()(r=B()(n=B()(s='<!DOCTYPE html>\n  <html lang="en">\n  <head>\n      <meta charset="UTF-8"/>\n      <meta name="viewport" content="initial-scale=1, width=device-width" />\n      <title></title>\n      <style>'.concat(c,"</style>\n      ")).call(s,p()(l).call(l,(e=>'<link rel="stylesheet" href="'.concat(e,'"></link>'))).join(""),'\n  </head>\n  <body>\n      <div id="root">')).call(n,i,"</div>\n      <script>window._context=")).call(r,o,"<\/script>\n  </body>\n  ")).call(t,p()(a).call(a,(e=>'<script type="text/javascript" src="'.concat(e,'"><\/script>'))).join(""),"\n  </html>")})({reactStr:(0,l.renderToString)((0,u.jsx)(j.Provider,{store:M,children:(0,u.jsx)(d.StaticRouter,{location:c,context:x,children:(0,u.jsx)(d.Switch,{children:(0,S.renderRoutes)(R)})})})),initialData:o()(M.getState()),styles:x.css.length?x.css.join("\n"):""});return r.send(m),n()})),U.listen(9999,(()=>console.log("node listen 9999")))})()})();